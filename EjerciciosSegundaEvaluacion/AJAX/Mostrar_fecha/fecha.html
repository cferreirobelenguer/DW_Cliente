
<!--Mostrar fecha de un documento html-->
<!DOCTYPE html>
<html>
	<head>
		<title>AJAX</title>
		<style>
		</style>
		<script>
			var xhr;
			var encabezados;
			var contenido;
			var boton;
			function enviarPeticionAJAX(evento){
				boton.disabled=true;
				xhr = new XMLHttpRequest();
				xhr.addEventListener('readystatechange',gestionarRespuesta);
				xhr.open('GET','ajax.php',true);
				xhr.send(null);				
			}
			function gestionarRespuesta(evento){
				if(evento.target.readyState == 4 && evento.target.status == 200){
					encabezados.innerHTML = evento.target.getAllResponseHeaders();
					contenido.innerHTML = evento.target.responseText;
					boton.disabled = false;
				}
			}
			document.addEventListener('readystatechange',inicializar,false);
			function inicializar(){
				encabezados=document.getElementById('encabezados');
				contenido=document.getElementById('contenido');
				boton=document.getElementById('boton');
				boton.addEventListener('click',enviarPeticionAJAX,false);
			}
		</script>
	</head>
	<body>
		<button id='boton' type='button' >ENVIAR PETICION</button>
		<h1>Encabezados respuesta</h1>
		<div id='encabezados'></div>
		<h1>Contenido respuesta</h1>
		<div id='contenido'></div>	
	</body>
</html>
