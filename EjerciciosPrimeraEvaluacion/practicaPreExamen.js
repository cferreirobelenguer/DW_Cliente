
<!--
    Práctica que consistía en añadir alumnos a una base de datos , a partir
de la segunda posición se pregunta en qué posición se desea añadir al alumno: si es al INICIO se desplaza al inicio,
si es al FINAL se desplaza al final, si es NUMERO se mantiene en el mismo número.
Con el botón buscar se busca al alumno último añadido y se dice el alumno que es y la posición que ocupa diciendo que si se pulsa a eliminar se elimina el alumno.
Con el botón eliminar se puede eliminar el último alumno añadido.
Con el botón visualizar se puede ver el último alumno añadido
Con el botón limpiar se limpian todas las ventanas.-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Práctica de evaluación 28 octubre 2021</title>
</head>
<body>
    <center>
        <form name="form1" style="align-items: center;">
            <div>
                <label for="cjnombre">Nombre: </label><input type="text" name="cjnombre"><br><br>
            </div>
            <div>
                <label>Visualizar: </label><br><br>
                <textarea cols="30" rows="15"></textarea>
            </div>
            <br>
            <div>
                <input type="button" value="Añadir" onclick="accion();"> 
                <input type="button" value="Buscar" onclick="accion2();"> 
                <input type="button" value="Eliminar" onclick="accion3();"> 
                <input type="button" value="Visualizar" onclick="accion4();"><br><br>
            </div>
            <div>
                <input type="button" value="Limpiar" onclick="accion5();">
            </div>
        </form>
    </center>
    <script>
        var arrayAlumnos=[];
        var longitud=0;
        var nombre="";
        var posicion="";
        var indice=0;
        var indice2=0;
        var indice3=0;
        var textarea="";
        var buscarposicion="";
        
        function accion(){
                
                nombre=document.getElementsByName("cjnombre")[0].value;
                if(isNaN(nombre)){
                
                    arrayAlumnos.push(nombre);
                    }
            
                //var posicion=prompt("¿En qué posición desea añadir al alumno?");
                longitud++;

                if(longitud>=2){
                    posicion=prompt("¿En qué posición desea añadir al alumno?");
                    if(isNaN(posicion)){
                        switch(posicion){
                        case "INICIO":
                            let indice=arrayAlumnos.indexOf(nombre);
                            arrayAlumnos.splice(0, 0,nombre);
                            console.log(indice);
                            arrayAlumnos.pop(arrayAlumnos[indice]);
                            alert("Usted está en la primera posición");
                        break;
                        case "FINAL":
                            let indice2=arrayAlumnos.indexOf(nombre);
                            alert("Usted está en la última posición");
                            indice2=arrayAlumnos.splice(indice2,nombre);
                        break;
                        case "NUMERO":
                            let indice3=arrayAlumnos.indexOf(nombre);
                            alert("Usted tiene la misma posición que es "+indice3);
                        break;
                        default:
                            alert("La posición indicada no existe");
                        }
                    }
                    

                }
           //console.log(nombre.split(","));
           console.log(arrayAlumnos);
           
           
        }
        function accion2(){
            
            for(let valor in arrayAlumnos){
                
                if (arrayAlumnos[valor]!=undefined){
                    let texto="El alumno solicitado existe y es "+arrayAlumnos[valor]+" ,se encuentra en la base de datos y está en la posición "+valor+" si desea eliminarlo deberá de pulsar el botón eliminar"
                    document.getElementsByTagName('textarea')[0].value=texto;
                    
                }else{
                    let texto="El alumno solicitado NO está en lista. Puede añadirlo pulsando el botón de Añadir"
                document.getElementsByTagName("textarea")[0].value=texto;
                }
            }

        }
        
        function accion3(){
            nombre=document.getElementsByName("cjnombre")[0].value="";
            

            for(let valor in arrayAlumnos){
                
                if (arrayAlumnos[valor]!=undefined){
                    arrayAlumnos.splice(valor);
                    let texto="los alumnos han sido eliminados"
                    document.getElementsByTagName("textarea")[0].value=texto;
                }
            }
        }
        function accion4(){
                var texto3= "El total de alumnos es: ";
                 for(let i=0; i<arrayAlumnos.length; i++){
                        
                        var texto2= texto2+arrayAlumnos[i]+" , ";
                        
                            
                        }
                texto4=texto3+texto2;
                        document.getElementsByTagName("textarea")[0].value=texto4;
               
               
            
        }
        function accion5(){
            nombre=document.getElementsByName("cjnombre")[0].value="";
            document.getElementsByTagName("textarea")[0].value="";
        }
        
    
    </script>
</body>
</html>
